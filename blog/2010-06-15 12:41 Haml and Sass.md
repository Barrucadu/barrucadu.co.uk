Recently I discovered ([thanks to a thread on the Arch forums](http://bbs.archlinux.org/viewtopic.php?id=98978)) [Haml](http://haml-lang.com) and [Sass](http://sass-lang.com). Both are Ruby-based domain-specific languages for web development; Haml is intended for (X)HTML (but can be used for any XML, as I discovered), whereas Sass is intended for CSS.

A little wary at first, I decided to investigate them. I am glad I did. I replaced my XHTML template with a Haml template, and my CSS files with some SCSS ones. Haml looks a lot more simple than XHTML, but Sass looks a bit more complex than CSS, which is because Sass is a superset of CSS. A valid CSS stylesheet is also valid Sass code, which means you have a powerful way of producing CSS files. Sass adds some nice features, while still retaining the ability to just type in plain CSS when you need to.

 * **Templates**: [Haml](http://github.com/Barrucadu/personal-website/blob/master/templates/index.haml), [XHTML](http://github.com/Barrucadu/personal-website/blob/82cd2539387e0c9c4ed3a33676e909721d72b3f3/templates/index.php).
 * **Styling**: [SCSS](http://github.com/Barrucadu/personal-website/tree/master/css/), [CSS](http://github.com/Barrucadu/personal-website/tree/82cd2539387e0c9c4ed3a33676e909721d72b3f3/css).

As you can see, the Haml is *much* simpler and shorter than the corresponding XHTML, whereas the Sass is probably longer, but has more functionality.

In the following sections I'll just give you a *very* brief overview of Haml and Sass. If you want to learn or use them, look at their respective websites.

### Haml

Haml uses indentation to indicate where things are and, unless state otherwise, everything is a div. Consider for example the following XHTML snippet:

    <div class="test">
      <p>Lorem ipsum dolor sit amet</p>
    </div>

Hardly the most complex bit of XHTML, but even for this small example, Haml is a clear winner:

    .test
      %p Lorem ipsum dolor sit amet.

One line and many characters shorter.

### Sass

Sass is a superset of CSS, so I'll have to give a slightly more complex example here:

    div.error {
      font-weight: 600;
      font-size: 2em;
      color: #FF0000;
    }
    
    div.error span.serious {
        font-weight: 700;
        font-size: 2.5em;
    }

Again, not the most complex of CSS, though the Sass will look pretty complex at first glance, as I'm trying to cram in as many features of Sass as I can to show you the power:

    @mixin font($weight : "", $size : "", $color : "") {
      @if $weight != "" { font-weight: #{$weight}; }
      @if $size != "" { font-size: #{$size}; }
      @if $color != "" { color: #{$color}; }
    }
    
    div.error {
      span.serious { @include font(700, 2.5em); }
      @include font(600, 2em, #FF0000);
    }

Ok, what's that stuff, I hear you cry. Well, firstly I defined a **mixin**. Mixins are the thing I like most about Sass, they are CSS generating functions. Basically, it takes up to three values, a font weight, size, and colour, and generates the appropriate CSS. If no weight/size/colour is given, no weight/size/colour CSS is produced in my example. Secondly, you can see how I have nested the **span.serious** within the **div.error**. Sass lets you structure your styling like this to clearly see what properties something has. Thirdly, I have used the mixin I defined earlier to generate the font property CSS for the error div and serious span.

This example isn't very clear, but have a look at the SCSS making up my website now, you'll get a better feel for how things fit together.

### Haml for XML

It didn't take me long to discover that Haml can be used for any form of XML. I have, until earlier today, had a complex mixture of PHP and XML generating [my FOAF file](http://www.barrucadu.co.uk/foaf/foaf.rdf) which was, to be honest, a convoluted way to get out of writing XML (it's not my favourite of languages). Translating it to Haml was wonderful, see for yourself:

 * **FOAF**: [Haml](http://github.com/Barrucadu/personal-website/blob/master/foaf/foaf.haml), [PHP + XML](http://github.com/Barrucadu/personal-website/blob/c051c9f6dc6f3de4a905e62182f91ac9f148bc61/foaf/foaf.rdf).

So, where will I go to next with my Hamling and Sassing? Well, I'm thinking about dropping Phatso and creating a better framework for myself, that has a *good* template engine. That would let me generate templates for the gallery and lifestream stuff with Haml, as well as remove the PHP from the current template file. I'm thinking about extending my website's Makefile-in-progress to generate static pages out of everything but the lifestream and gallery pages, so reduce processing time for other pages to almost nothing.

I think I'll be playing around with my website for a few days yet, Haml and Sass have temporarily re-kindled my interest in developing it.
